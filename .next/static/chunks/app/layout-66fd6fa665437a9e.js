(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2823:function(e,t,r){Promise.resolve().then(r.bind(r,4782))},2323:function(e,t,r){"use strict";r.d(t,{_:function(){return l},Q:function(){return d}});var n=r(7752),a=r(5847),i=r(8250),o=r(3297),s=r(1228);let c=()=>{let e=s.Z.get("Authorization");if(!e)return null;try{return(0,o.o)(e)}catch(e){return console.error("Erreur lors du d\xe9codage du token:",e),null}},u=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,[r,o]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[d,f]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[m,g]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[x,C]=(0,a.useState)(null),[y,S]=(0,a.useState)(!1),[j,E]=(0,a.useState)(""),[I,U]=(0,a.useState)(null),[_,N]=(0,a.useState)(null),[R,Z]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=c();e&&(U(e),E(e.role))},[]),(0,a.useEffect)(()=>{(async()=>{try{var e,t;let r=await i.Z.get("https://club-ia-imsp-backend.onrender.com/user",{withCredentials:!0});o(null===(e=r.data.data)||void 0===e?void 0:e.length);let n=await i.Z.get("https://club-ia-imsp-backend.onrender.com/articles/project",{withCredentials:!0});k(n.data.data),f(n.data.data.length);let a=await i.Z.get("https://club-ia-imsp-backend.onrender.com/articles/article",{withCredentials:!0});g(a.data.data),h(a.data.data.length);let s=await i.Z.get("https://club-ia-imsp-backend.onrender.com/articles/medias",{withCredentials:!0});if(v(s.data.data),"admin"==j){let e=await i.Z.get("https://club-ia-imsp-backend.onrender.com/user/editor",{withCredentials:!0});l(null===(t=e.data)||void 0===t?void 0:t.data)}}catch(e){}})()},[w]),(0,n.jsx)(u.Provider,{value:{totalSubscriber:r,totalProjects:d,totalArticles:p,totalMedias:b,allEditor:s,articles:m,projects:w,data:x,setData:C,isAllowed:y,setIsAllowed:S,role:j,setRole:E,token:I,setToken:U,valueDecoded:_,setValueDecoded:N,email:R,setEmails:Z},children:t})},d=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useDashboard doit \xeatre utilis\xe9 \xe0 l'int\xe9rieur de DashboardProvider");return e}},4782:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(7752);r(1252),r(6967),r(4187),r(8195);var a=r(5847),i=()=>(0,n.jsx)("div",{className:"flex h-screen items-center justify-center bg-white dark:bg-black",children:(0,n.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})}),o=r(2323),s=r(8948);function c(e){let{children:t}=e,[r,c]=(0,a.useState)(!1),[u,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{setTimeout(()=>l(!1),1e3)},[]),(0,n.jsx)("html",{lang:"en",children:(0,n.jsxs)("body",{suppressHydrationWarning:!0,children:[(0,n.jsx)("div",{children:(0,n.jsx)(s.Ix,{position:"top-right"})}),(0,n.jsx)("div",{className:"dark:bg-boxdark-2 dark:text-bodydark",children:(0,n.jsx)(o._,{children:u?(0,n.jsx)(i,{}):t})})]})})}},6967:function(){},1252:function(){},4187:function(){},8195:function(){},1228:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return a}});var a=function e(t,r){function a(e,a,i){if("undefined"!=typeof document){"number"==typeof(i=n({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},a=0;a<r.length;a++){var i=r[a].split("="),o=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(n[s]=t.read(o,s),e===s)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){a(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},3297:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});class n extends Error{}function a(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let a=!0===t.header?0:1,i=e.split(".")[a];if("string"!=typeof i)throw new n(`Invalid token specified: missing part #${a+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(i)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${a+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${a+1} (${e.message})`)}}n.prototype.name="InvalidTokenError"}},function(e){e.O(0,[227,250,948,42,516,744],function(){return e(e.s=2823)}),_N_E=e.O()}]);